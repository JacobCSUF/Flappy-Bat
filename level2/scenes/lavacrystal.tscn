[gd_scene load_steps=12 format=3 uid="uid://k5twivedaovi"]

[ext_resource type="Texture2D" uid="uid://cm1hd35mhm7bs" path="res://level2/assets/sprites/red crystal.png" id="1_7lcbn"]
[ext_resource type="Script" uid="uid://4suvryn7x8rk" path="res://level2/scripts/lavacrystal.gd" id="1_grqef"]
[ext_resource type="PackedScene" uid="uid://dwv2t6r54wd1h" path="res://scenes/killzone.tscn" id="2_evb4d"]
[ext_resource type="Texture2D" uid="uid://deitvussbkctv" path="res://level2/assets/sprites/lavaripples.png" id="4_6wdhn"]

[sub_resource type="AtlasTexture" id="AtlasTexture_vf5rf"]
atlas = ExtResource("4_6wdhn")
region = Rect2(0, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_c7nm0"]
atlas = ExtResource("4_6wdhn")
region = Rect2(0, 64, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_e6mwq"]
atlas = ExtResource("4_6wdhn")
region = Rect2(0, 128, 128, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_ch32y"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vf5rf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c7nm0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e6mwq")
}],
"loop": true,
"name": &"default",
"speed": 13.0
}]

[sub_resource type="Gradient" id="Gradient_6wdhn"]
colors = PackedColorArray(0.979405, 0.979405, 0.979405, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ch32y"]
gradient = SubResource("Gradient_6wdhn")
width = 128
height = 128
fill = 1
fill_from = Vector2(0.632716, 0.546296)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_6wdhn"]
polygon = PackedVector2Array(-37, -33, -47, -1, 0, 57, 29, 31, 38, -26, 6, -49, -35, -31, -17, -31, -3, 13, 11, -25, 19, -32, 33, -23, 14, 31, -20, 31, -36, -16, -35, -32, -12, -39, -40, -40, -41, -8)

[node name="CharacterBody2D" type="CharacterBody2D"]
script = ExtResource("1_grqef")

[node name="Sprite2D" type="Sprite2D" parent="."]
light_mask = 131073
scale = Vector2(1.10938, 1)
texture = ExtResource("1_7lcbn")

[node name="Killzone" parent="Sprite2D" instance=ExtResource("2_evb4d")]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Sprite2D/Killzone"]
visible = false
polygon = PackedVector2Array(-17, 31, -31, -16, -31, -31, -17, -31, -3, 13, 13, -27, 17, -30, 28, -24, 11, 31)

[node name="lavaripples" type="AnimatedSprite2D" parent="."]
modulate = Color(1, 1, 0.701961, 1)
position = Vector2(-4, 19)
scale = Vector2(0.753235, 0.737085)
sprite_frames = SubResource("SpriteFrames_ch32y")
autoplay = "default"

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(-3.875, 15.2617)
scale = Vector2(0.888672, 0.808411)
color = Color(0.52549, 0, 0.333333, 1)
range_item_cull_mask = 131072
shadow_enabled = true
shadow_item_cull_mask = 131072
texture = SubResource("GradientTexture2D_ch32y")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_6wdhn")
occluder_light_mask = 131072
